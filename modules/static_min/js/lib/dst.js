define(["text"],function(n){var t={},e='define("{pluginName}!{moduleName}", ["dust"], function(dust){{fn|s}; return function(context, callback) { return dust.render("{moduleName}", context, callback)}});',u=function(n,t){var e=dust.loadSource(dust.compile(n,t));return function(n,t){var u=t?new Stub(t):new Stream;return dust.nextTick(function(){e(u.head,Context.wrap(n)).end()}),u}},r=function(e,r,i,o){n.get(r.toUrl(e),function(n){o.isBuild?(t[e]=n,i()):(u(n,e),i(function(n,t){return n.uniq=Math.random().toString().substr(2,16),dust.render(e,n,t)}))})},i=function(n,r,i){u(e,"_buildCompileTemplate"),r in t&&dust.render("_buildCompileTemplate",{pluginName:n,moduleName:r,fn:dust.compile(t[r],r)},function(n,t){i(t)})};return{load:r,write:i}});